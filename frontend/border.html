<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Screen Border</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: transparent;
      position: relative;
    }
    
    /* Siri-inspired border container */
    .border-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    
    /* Base gradient layer - light pastel colors */
    .border-main {
      position: absolute;
      top: -8px;
      left: -8px;
      right: -8px;
      bottom: -8px;
      padding: 12px;
      background: 
        linear-gradient(
          90deg,
          rgba(255, 149, 0, 0.8),    /* Orange */
          rgba(255, 59, 48, 0.8),    /* Red */
          rgba(255, 45, 85, 0.8),    /* Pink */
          rgba(191, 90, 242, 0.8),   /* Purple */
          rgba(88, 86, 214, 0.8),    /* Indigo */
          rgba(50, 173, 230, 0.8),   /* Blue */
          rgba(0, 199, 190, 0.8),    /* Teal */
          rgba(48, 209, 88, 0.8),    /* Green */
          rgba(255, 204, 0, 0.8),    /* Yellow */
          rgba(255, 149, 0, 0.8)     /* Orange */
        );
      background-size: 600% 100%;
      -webkit-mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      mask-composite: exclude;
      filter: blur(4px) saturate(1.3);
      opacity: 0.95;
    }
    
    /* Secondary flowing layer */
    .border-glow-inner {
      position: absolute;
      top: -12px;
      left: -12px;
      right: -12px;
      bottom: -12px;
      padding: 16px;
      background: 
        linear-gradient(
          -90deg,
          rgba(94, 92, 230, 0.6),    /* Soft Purple */
          rgba(255, 105, 180, 0.6),  /* Hot Pink */
          rgba(255, 182, 193, 0.6),  /* Light Pink */
          rgba(173, 216, 230, 0.6),  /* Light Blue */
          rgba(255, 218, 185, 0.6),  /* Peach */
          rgba(221, 160, 221, 0.6),  /* Plum */
          rgba(94, 92, 230, 0.6)     /* Soft Purple */
        );
      background-size: 500% 100%;
      -webkit-mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      mask-composite: exclude;
      filter: blur(6px) saturate(1.2);
      opacity: 0.85;
    }
    
    /* Outer glow layer */
    .border-glow-outer {
      position: absolute;
      top: -16px;
      left: -16px;
      right: -16px;
      bottom: -16px;
      padding: 20px;
      background: 
        radial-gradient(
          ellipse at top,
          rgba(255, 105, 180, 0.4),
          transparent 50%
        ),
        radial-gradient(
          ellipse at right,
          rgba(88, 86, 214, 0.4),
          transparent 50%
        ),
        radial-gradient(
          ellipse at bottom,
          rgba(50, 173, 230, 0.4),
          transparent 50%
        ),
        radial-gradient(
          ellipse at left,
          rgba(255, 149, 0, 0.4),
          transparent 50%
        );
      -webkit-mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      mask-composite: exclude;
      filter: blur(8px);
      opacity: 0.6;
    }
    
    /* Shimmer accent layer */
    .border-pulse {
      position: absolute;
      top: -10px;
      left: -10px;
      right: -10px;
      bottom: -10px;
      padding: 14px;
      background: 
        linear-gradient(
          120deg,
          transparent 0%,
          transparent 35%,
          rgba(255, 255, 255, 0.5) 50%,
          transparent 65%,
          transparent 100%
        );
      background-size: 200% 100%;
      -webkit-mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      mask-composite: exclude;
      filter: blur(2px);
      opacity: 0;
    }
    
    /* Animated states - Siri is active/speaking */
    body.animated .border-main {
      animation: flowGradient 6s cubic-bezier(0.45, 0.05, 0.55, 0.95) infinite,
                 breatheScale 4s ease-in-out infinite;
    }
    
    body.animated .border-glow-inner {
      animation: flowGradientReverse 8s cubic-bezier(0.65, 0.05, 0.35, 0.95) infinite,
                 rotateHue 12s linear infinite;
    }
    
    body.animated .border-glow-outer {
      animation: radialPulse 3s ease-in-out infinite,
                 waveMotion 5s ease-in-out infinite;
    }
    
    body.animated .border-pulse {
      animation: shimmer 2.5s cubic-bezier(0.4, 0, 0.2, 1) infinite,
                 intensePulse 1.5s ease-in-out infinite;
    }
    
    /* Paused state - subtle breathing effect when listening */
    body.paused .border-main {
      animation: gentleBreath 6s ease-in-out infinite;
    }
    
    body.paused .border-glow-inner {
      animation: gentleBreath 8s ease-in-out infinite reverse;
    }
    
    body.paused .border-glow-outer {
      animation: subtlePulse 5s ease-in-out infinite;
    }
    
    body.paused .border-pulse {
      opacity: 0;
    }
    
    /* Animations */
    @keyframes flowGradient {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }
    
    @keyframes flowGradientReverse {
      0%, 100% {
        background-position: 100% 50%;
      }
      50% {
        background-position: 0% 50%;
      }
    }
    
    @keyframes radialPulse {
      0%, 100% {
        opacity: 0.6;
        transform: scale(1);
      }
      25% {
        opacity: 0.8;
        transform: scale(1.02);
      }
      50% {
        opacity: 0.7;
        transform: scale(0.98);
      }
      75% {
        opacity: 0.85;
        transform: scale(1.01);
      }
    }
    
    @keyframes shimmer {
      0% {
        background-position: -200% 50%;
        opacity: 0;
      }
      30% {
        opacity: 1;
      }
      70% {
        opacity: 1;
      }
      100% {
        background-position: 200% 50%;
        opacity: 0;
      }
    }
    
    @keyframes gentleBreath {
      0%, 100% {
        opacity: 0.7;
        background-position: 0% 50%;
      }
      50% {
        opacity: 0.9;
        background-position: 50% 50%;
      }
    }
    
    @keyframes subtlePulse {
      0%, 100% {
        opacity: 0.4;
        transform: scale(1);
      }
      50% {
        opacity: 0.6;
        transform: scale(1.01);
      }
    }
  </style>
</head>
<body class="paused">
  <div class="border-container">
    <div class="border-glow-outer"></div>
    <div class="border-glow-inner"></div>
    <div class="border-pulse"></div>
    <div class="border-main"></div>
  </div>
  
  <script>
    const { ipcRenderer } = require('electron');
    
    // Listen for animation state changes
    ipcRenderer.on('set-animated', (event, animated) => {
      if (animated) {
        document.body.classList.remove('paused');
        document.body.classList.add('animated');
      } else {
        document.body.classList.add('paused');
        document.body.classList.remove('animated');
      }
    });
    
    // Start paused (listening state)
    document.body.classList.add('paused');
  </script>
</body>
</html>